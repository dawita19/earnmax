---
title: Withdrawal Form
description: Form for submitting withdrawal requests
component: WithdrawalForm
---

```jsx live
function WithdrawalForm() {
  const [amount, setAmount] = useState('');
  const [paymentMethod, setPaymentMethod] = useState('');
  const [error, setError] = useState('');
  const [success, setSuccess] = useState(false);
  const userVipLevel = 2; // Example

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    try {
      const response = await fetch('/api/user/withdrawals', {
        method: 'POST',
        body: JSON.stringify({ amount, paymentMethod }),
        headers: { 'Content-Type': 'application/json' }
      });
      
      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.message || 'Withdrawal failed');
      }
      
      setSuccess(true);
    } catch (err) {
      setError(err.message);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      {error && <Alert variant="error">{error}</Alert>}
      {success && <Alert variant="success">Withdrawal request submitted!</Alert>}
      
      <AmountInput
        label="Withdrawal Amount"
        value={amount}
        onChange={setAmount}
        min={getVipMinWithdrawal(userVipLevel)}
        max={getUserMaxWithdrawal()}
        required
      />
      
      <PaymentMethodSelect
        value={paymentMethod}
        onChange={setPaymentMethod}
        required
      />
      
      <Button type="submit" fullWidth>
        Request Withdrawal
      </Button>
    </form>
  );
}